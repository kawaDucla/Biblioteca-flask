{% extends 'base.html' %}
{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        {% if current_user.is_authenticated %}

        <h3 class="mb-3" style="color: rgb(34, 139, 34);">Bem-vindo {{ current_user.nome }}!</h3>
        {% else %}
        <h3 class="mb-3" style="color: rgb(34, 139, 34);">Login do Aluno</h3>
            <form method="POST">
                {{ form.csrf_token }}
                {{ form.email.label }} {{ form.email(class="form-control mb-2", style="border-color: rgb(60, 179, 113);") }}
                {{ form.senha.label }} {{ form.senha(class="form-control mb-3", style="border-color: rgb(60, 179, 113);") }}
                {% if erro %}
                    <div class="text-center mt-3 mb-3" style="color: rgb(178, 34, 34); font-weight: 600;">{{ erro }}</div>
                {% endif %}
                {{ form.submit(class="btn w-100", style="background-color: rgb(60, 179, 113); color: white;") }}
            </form>
        {% endif %}

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="mt-3">
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
            </div>
        {% endif %}
        {% endwith %}
    </div>
</div>
{% endblock %}
